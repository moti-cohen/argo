apiVersion: ec2.services.k8s.aws/v1alpha1
kind: SecurityGroup
metadata:
  name: "argo-test1"
  namespace: default
spec:
  name: "argo-test1"
  description: {{ .Values.securityGroupRDS.description | quote }}  # Ensure the description is quoted correctly
  vpcID: {{ .Values.vpcID | quote }}  # Quote the VPC ID as well
  ingressRules:
    {{- range .Values.securityGroupRDS.ingressRules }}
    - fromPort: 80
      toPort: 81
      ipProtocol: tcp
      userIDGroupPairs:
        - groupID: {{ .groupID | quote }}
          description: {{ .description | quote }}
    {{- end }}
  egressRules:
    - fromPort: 0
      toPort: 0
      ipProtocol: tcp
      ipRanges:
        - cidrIP: "10.0.0.0/8"
          description: "Allow all outbound traffic"
